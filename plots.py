import matplotlib.pyplot as plt
import numpy as np

minheap_rt = {
    0.2: {10: 1859.943039, 20: 11.260926, 30: 38.351563, 40: 92.86203499999999, 50: 183.790328, 60: 315.76620099999997,
          70: 520.9738649999999, 80: 776.7365269999999, 90: 1100.571009, 100: 1524.311849, 110: 2042.0567609999998,
          120: 2687.715303, 130: 3384.670421, 140: 4375.501077},
    0.3: {10: 2.0505679999999997, 20: 16.831229, 30: 54.730475999999996, 40: 140.332884, 50: 274.984853, 60: 474.4222,
          70: 760.094238, 80: 1165.095506, 90: 1658.928453, 100: 2328.492796, 110: 3134.498127, 120: 4045.365504,
          130: 5204.0261519999995, 140: 6594.196707},
    0.4: {10: 2.867987, 20: 22.183436999999998, 30: 73.201978, 40: 180.42846799999998, 50: 360.568182, 60: 637.458531,
          70: 1038.9054489999999, 80: 1535.7909769999999, 90: 2257.9417009999997, 100: 3224.8958199999997,
          110: 4218.752053, 120: 6037.832845999999, 130: 7158.93865, 140: 9366.462178},
    0.5: {10: 3.995511, 20: 29.81751, 30: 105.23590399999999, 40: 241.59272199999998, 50: 472.36578699999995,
          60: 797.5784269999999, 70: 1303.973923, 80: 1982.4940179999999, 90: 2836.489172, 100: 3950.3261439999997,
          110: 5320.379037, 120: 7105.075094, 130: 9037.891983, 140: 11474.387697999999},
    0.6: {10: 4.245285, 20: 32.382574, 30: 110.811174, 40: 270.357932, 50: 548.157377, 60: 979.1177839999999,
          70: 1596.804842, 80: 2398.6764009999997, 90: 3510.702586, 100: 5119.767867, 110: 6625.073042,
          120: 8534.814806, 130: 11028.440627, 140: 13995.279445999999},
    0.7: {10: 4.539917, 20: 38.749865, 30: 127.756515, 40: 322.77358, 50: 665.525712, 60: 1239.525392, 70: 1903.566773,
          80: 2866.8609819999997, 90: 4089.387156, 100: 5673.42314, 110: 7922.619621999999, 120: 10116.710723,
          130: 13268.648739999999, 140: 16966.708748999998},
    0.8: {10: 5.780641, 20: 44.066739999999996, 30: 152.780933, 40: 373.348486, 50: 754.818456, 60: 1360.35445,
          70: 2201.07703, 80: 3313.767043, 90: 4743.95554, 100: 6699.747136999999, 110: 9101.141475999999,
          120: 11925.092937, 130: 15272.038876999999, 140: 19445.833881},
    0.9: {10: 6.039852, 20: 51.293982, 30: 171.317165, 40: 424.49983599999996, 50: 863.264413, 60: 1523.02785,
          70: 2480.896672, 80: 3823.949865, 90: 5433.618941, 100: 7540.712313999999, 110: 10322.867692,
          120: 13620.988271, 130: 17372.652272, 140: 22639.610168}}
fibheap_rt = {
    0.2: {10: 1.89052, 20: 17.044411, 30: 68.381789, 40: 198.29099, 50: 459.70277999999996, 60: 828.7189629999999,
          70: 1578.931247, 80: 2534.3651179999997, 90: 4069.1151489999997, 100: 6020.222836999999, 110: 8672.348485,
          120: 11982.576127999999, 130: 16935.199457, 140: 22075.897901},
    0.3: {10: 2.5834509999999997, 20: 26.991797, 30: 98.45721499999999, 40: 283.177389, 50: 653.039768, 60: 1294.663861,
          70: 2161.528378, 80: 3771.366103, 90: 5488.575929, 100: 8203.844772999999, 110: 12405.213025,
          120: 16588.625699, 130: 21982.860714, 140: 28774.891650999998},
    0.4: {10: 3.831165, 20: 33.741982, 30: 131.488742, 40: 370.58572899999996, 50: 878.762212, 60: 1620.137281,
          70: 2842.4573339999997, 80: 4649.1045619999995, 90: 6854.687411999999, 100: 10348.98736,
          110: 15168.009376999998, 120: 22902.981467999998, 130: 27689.83531, 140: 37845.742099999996},
    0.5: {10: 5.19013, 20: 49.33867, 30: 182.663678, 40: 497.930439, 50: 997.4456349999999, 60: 2003.701363,
          70: 3436.107682, 80: 5604.111691, 90: 8326.807964, 100: 12072.128907, 110: 17332.110348, 120: 23829.154531,
          130: 32005.345094999997, 140: 42189.397891},
    0.6: {10: 5.433203, 20: 45.592059, 30: 195.69448799999998, 40: 512.869528, 50: 1212.533722, 60: 2256.339892,
          70: 3790.976564, 80: 6320.424349999999, 90: 9964.022396, 100: 14708.243844999999, 110: 19706.709620999998,
          120: 27762.603691999997, 130: 39517.725513, 140: 48493.78787},
    0.7: {10: 6.462435, 20: 59.454229, 30: 235.987079, 40: 606.965025, 50: 1359.249879, 60: 2648.3214009999997,
          70: 4707.5555939999995, 80: 7114.421321999999, 90: 10589.957805, 100: 15772.733631, 110: 22863.164913999997,
          120: 31727.92222, 130: 41891.733309999996, 140: 54560.64184},
    0.8: {10: 7.440378, 20: 64.098393, 30: 255.553823, 40: 706.282287, 50: 1538.659613, 60: 2936.6491349999997,
          70: 5213.429526, 80: 8016.107927999999, 90: 12347.646461999999, 100: 17917.313362, 110: 26285.60124,
          120: 33488.822574, 130: 43923.904015, 140: 59309.132243},
    0.9: {10: 8.060785, 20: 72.99098699999999, 30: 302.052662, 40: 779.45488, 50: 1728.407907, 60: 3307.303042,
          70: 5519.195095, 80: 8880.402069, 90: 13970.32776, 100: 19408.077104, 110: 27820.130795999998,
          120: 37892.06641, 130: 50657.826819999995, 140: 65371.339755999994}}

if __name__ == '__main__':
    for d in minheap_rt.keys():
        minheap_d = minheap_rt[d]
        fibheap_d = fibheap_rt[d]

        n = np.array(list(minheap_d.keys()))
        e = d * np.multiply(n, n - 1) / 2
        minheap_v = np.divide(np.array(list(minheap_d.values())), n + e)
        fibheap_v = np.divide(np.array(list(fibheap_d.values())), n + e)

        print(d, round(minheap_v[-1] / fibheap_v[-1], 2))

        plt.cla()
        plt.plot(n, minheap_v, label='minheap'.format(d))
        plt.plot(n, fibheap_v, label='fibheap'.format(d))
        plt.xlabel("n")
        plt.ylabel("Runtime (ms)")
        plt.legend(loc='upper left')
        plt.title("d={}".format(d))
        plt.tight_layout()
        plt.savefig("outputs/{}-d.svg".format(d, n), format='svg')
